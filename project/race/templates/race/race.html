{% load static %}
<head>
    <link rel="stylesheet" href="{% static 'race/race_styles.css' %}">
    
    <!-- Leaflet mapping plugin-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <!-- Font Awesome for map race icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
    <header>
        <img src="{% static 'race/images/UniversityOfExeterLogo.png' %}" alt="Exeter University Logo">
        <p id="pageTitle">ExePLORE</p>
    </header>
    <main>
        {% block content %}
        <div class="title">Races!</div>
        <div id="map">
            <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
            <script>
                 // Create a data object that for external js
                const raceData = {
                    start: {
                        lat: {{ race.start.latitude }},
                        lng: {{ race.start.longitude }},
                        name: "{{ race.start.name }}"
                    },
                    end: {
                        lat: {{ race.end.latitude }},
                        lng: {{ race.end.longitude }},
                        name: "{{ race.end.name }}"
                    }
                };
            </script>
            <script src="{% static 'race/race_map_script.js' %}"></script>
        </div>
        <div class="menu">
            <p id="routePOIs">{{ race.title }}</p>
            <button id="leaderboard">Leaderboards</button>
            <div id="status">
                {% if race.is_complete%}
                <p>Completed!</p>
                {% else %}
                <p>You havn't exsplored this route yet!</p>
                {% endif %}
            </div>
            <div class="time">
                <img src="" alt="">
                {% if race.is_complete%}
                <p>Personal Best Time: {{race.get_duration}}</p>
                {% else %}
                <p>Personal Best Time: No time found</p>
                {% endif %}
            </div>
                <div class="actionButtons">
                <button style="background-color: red;">RACE!!</button>
                <button style="background-color: gold;">Time Trial</button>
                <button style="background-color: forestgreen;">ExePLORE</button>
            </div>
        </div>
        {% endblock %}
    </main>

</body>

