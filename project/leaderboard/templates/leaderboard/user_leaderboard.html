{% extends 'base.html' %}
{% load static %}

{% block title %}ExePLORE - User Leaderboard{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'leaderboard/user_leaderboard_styles.css' %}">
{% endblock %}

{% block content %}
<div class="leaderboard-page">
    <div class="leaderboard-container">
        <h1>User Leaderboard</h1>
        <ol class="leaderboard-list">
            {% for user in user_list %}
                <li class="user-card {% if forloop.counter|divisibleby:2 %}alt{% endif %}">
                    <span class="user-rank">
                        {% if not forloop.first %}
                            {{ forloop.counter }}.
                        {% endif %}
                        {% if forloop.first %}
                            <img src="{% static 'gold.png' %}" alt="Gold Medal" class="medal">
                        {% endif %}
                    </span>
                    <span class="user-name {% if forloop.first %}shifted{% endif %}">{{ user.user }}</span>
                    <span class="user-points">{{ user.points }} pts</span>
                </li>
            {% empty %}
                <li class="user-card"><span>No users available.</span></li>
            {% endfor %}
        </ol>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const userCards = document.querySelectorAll('.user-card');
        userCards.forEach((card, index) => {
            if (index % 2 === 1) {
                card.classList.add('alt');
            }
        });
    });
</script>
{% endblock %}